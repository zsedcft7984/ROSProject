<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROS Subscriber & Publisher</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/roslibjs/1.1.0/roslib.min.js"></script>
    
    <!-- 차량 주소소 -->
    <script src="config.js"></script>
    <!-- 카메라 정보 수신 -->
    <script src="camera_stream.js"></script>
</head>
<body>
    <h1>ROS Robot Control</h1>

    <!-- 카메라 영상 스트리밍 -->
    <canvas id="cameraCanvas" width="640" height="480"></canvas>
    <!-- 카메라 정보 출력 -->
    <div id="cameraInfo">
        <h2>카메라 정보</h2>
        <p><strong>Width:</strong> <span id="imageWidth">0</span></p>
        <p><strong>Height:</strong> <span id="imageHeight">0</span></p>
        <p><strong>Encoding:</strong> <span id="imageEncoding">None</span></p>
        <p><strong>Step:</strong> <span id="imageStep">0</span></p>
    </div>

    <!-- 모터 제어 버튼 -->
    <h2>Motor Control</h2>
    <button onclick="sendCommand('forward')">Forward</button>
    <button onclick="sendCommand('backward')">Backward</button>
    <button onclick="sendCommand('left')">Left</button>
    <button onclick="sendCommand('right')">Right</button>
    <button onclick="sendCommand('stop')">Stop</button>
    
    <button onclick="sendCommand('speed fast')">Speed Fast</button>
    <button onclick="sendCommand('speed slow')">Speed Slow</button>
    <button onclick="sendCommand('speed normal')">Speed Normal</button>

    <!-- 부저 제어 버튼 -->
    <h2>Buzzer Control</h2>
    <button onclick="controlBuzzer(1)">Buzzer ON</button>
    <button onclick="controlBuzzer(0)">Buzzer OFF</button>

    <!-- 모터 제어 명령어 -->
    <script src="motor_control.js"></script>
    <!-- 부저 제어 명령어 -->
    <script src="buzzer_control.js"></script>
</body>
</html>
